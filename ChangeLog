2007-12-19  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* lib/Makefile.am:
	* lib/memmem.c:
	* lib/totem_internal.h: Add internal BSD version of memmem

	* plparse/totem-pl-parser-podcast.c: (totem_pl_parser_is_rss),
	(totem_pl_parser_is_atom), (totem_pl_parser_is_opml):
	* plparse/totem-pl-parser-wm.c: (totem_pl_parser_is_asx),
	(totem_pl_parser_is_asf):
	* plparse/totem-pl-parser-qt.c: (totem_pl_parser_is_quicktime):
	Use memmem instead of copying the buffers before checking them

	* plparse/*.c: Remove conditional config.h include

2007-12-17  Bastien Nocera  <hadess@hadess.net>

	* plparse/xmllexer.c: (lex_convert), (lexer_init),
	(lexer_get_token):
	* plparse/xmllexer.h:
	* plparse/xmlparser.c: (xml_parser_init),
	(xml_parser_get_node_internal):
	* plparse/xmlparser.h: Update from xine-lib-1.2, use the BOMs
	in XML files to convert the data from unicode to UTF-8

	* plparse/bswap.h: Added to allow compilation

	* plparse/totem-pl-parser.c: (totem_pl_parser_is_iso8601_date),
	(totem_pl_parser_can_parse_from_data): Add missing checks for
	valid dates

2007-12-11  Bastien Nocera  <hadess@hadess.net>

	* plparse/totem-pl-parser.c: (totem_pl_parser_is_iso8601_date),
	(totem_pl_parser_parse_date): Add work-around for GLib
	bug #503029

2007-12-11  Bastien Nocera  <hadess@hadess.net>

	* configure.in: Update requirements

	* plparse/test-parser.c: (entry_metadata_foreach),
	(test_data_get_data), (main): Special-case pub dates, and print
	the original value, the parsed value, and a human-readable parsed
	value

	* plparse/totem-pl-parser.c: (totem_pl_parser_parse_date):
	Add some more debug, and remove Rhythmbox people from the Copyright

	* plparse/xmlparser.c: (xml_parser_init),
	(xml_parser_get_node_internal): Ignore Byte Order Marks at the
	beginning of XML files (Closes: #503031)

2007-12-11  Bastien Nocera  <hadess@hadess.net>

	* configure.in: 
	* totem-plparser-uninstalled.pc.in:
	* totem-plparser.pc.in: Depend on camel to parse RFC 2822 date
	strings (as used in RSS feeds), use GLib to parse RFC 3339/ISO 8601
	dates (as used in Atom feeds)

	* plparse/test-parser.c: (test_date_real), (test_date), (main):
	Add tests for a few RSS and Atom date parsing
	* plparse/totem-pl-parser.c: (totem_pl_parser_parse_date): use
	Camel and GLib for date parsing

	(Closes: #379932)

2007-12-10  Bastien Nocera  <hadess@hadess.net>

	* plparse/totem-pl-parser.c: (totem_pl_parser_might_be_file),
	(totem_pl_parser_resolve_url), (totem_pl_parser_ignore),
	(totem_pl_parser_ignore_from_mimetype),
	(totem_pl_parser_parse_internal),
	(totem_pl_parser_can_parse_from_data):
	Work-around file-to-file relative links resolution, as appearing
	in broken redirects on the Apple Trailers page
	* plparse/test-parser.c: (test_resolve): add test

============ Version 2.21.6

2007-12-06  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* configure.in: 2.21.6

2007-12-04  Bastien Nocera  <hadess@hadess.net>

	* totem-plparser-mini-uninstalled.pc.in:
	* totem-plparser-mini.pc.in: Remove some
	unneeded dependencies from the pkgconfig
	files for the mini library

2007-12-04  Bastien Nocera  <hadess@hadess.net>

	* plparse/Makefile.am: add soname info to
	the mini lib
	* plparse/plparser-mini.symbols: only export
	the needed functions
	* totem-plparser-mini-uninstalled.pc.in:
	* totem-plparser-mini.pc.in: Fix library linkage,
	we want -mini, not the full library

2007-12-03  Bastien Nocera  <hadess@hadess.net>

	* configure.in: Add missing DBUS_REQS

============ Version 2.21.5

2007-12-03  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* configure.in: 2.21.5

2007-12-03  Bastien Nocera  <hadess@hadess.net>

	* AUTHORS: added
	* README: added
	(Closes: #501314)

	* plparse/totem-disc.c: (cd_cache_new), (cd_cache_has_medium):
	Fix double-free due to overzealous free (Closes: #501120)

============ Version 2.21.4

2007-12-03  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am:
	* configure.in: 2.21.4

	* totem-plparser-mini-uninstalled.pc.in:
	* totem-plparser-mini.pc.in:
	* totem-plparser-uninstalled.pc.in:
	* totem-plparser.pc.in: Update includes to new location

2007-12-03  Bastien Nocera  <hadess@hadess.net>

	* MAINTAINERS: add
	* plparse/stamp-totem-pl-parser-builtins.h: Remove this built item

2007-12-03  Bastien Nocera  <hadess@hadess.net>

	* *: Moved from Totem, export mini plparser
	for use in the browser plugin (Closes: #462153)

